<%- include('header', {signedInflag: signedInflag}); -%>

<div class="filter-displayer">
    <h2 class="results-found">Apply Filters</h2>
    <a class="btn btn-sm btn-light offcanvas-toggler" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button"
        aria-controls="offcanvasExample">Filters <i class="fa-solid fa-filter"></i>
    </a>
</div>

<hr class="separation">

<div class="offcanvas offcanvas-end text-bg-dark filter-offcanvas show" tabindex="-1" id="offcanvasExample"
    aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasExampleLabel">Filters</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <form action="" class="year-season-filter-form">
            <div class="year-season-filter-container">
                <select name="" id="year-select">
                    <option value="">Year</option>
                </select>
                <select name="" id="season-select">
                    <option value="">Season</option>
                    <option value="winter">Winter</option>
                    <option value="spring">Spring</option>
                    <option value="summer">Summer</option>
                    <option value="fall">Fall</option>

                </select>
            </div>
            <button class="btn btn-sm btn-outline-light year-season-btn">Search</button>
            <hr>
        </form>
        <form class="filter-form" action="">
            <h4>Advanced Filters</h4>
            <input class="name-input" type="text" name="" id="" placeholder="Name">
            <div class="selects">
                <select name="type" id="typeSelect">
                    <option value="" selected>Type</option>
                    <option value="tv">TV</option>
                    <option value="movie">Movie</option>
                    <option value="ova">OVA</option>
                    <option value="special">Special</option>
                    <option value="ona">ONA</option>
                    <option value="music">Music</option>
                </select>
                <select name="rating" id="ratingSelect">
                    <option value="" selected>Rating</option>
                    <option value="g">G - All Ages</option>
                    <option value="pg">PG - Children</option>
                    <option value="pg13">PG-13 - Teens 13 or older</option>
                    <option value="r17">R - 17+ (violence & profanity)</option>
                    <option value="r">R+ - Mild Nudity</option>
                    <option value="rx">Rx - Hentai</option>
                </select>
            </div>
            <select id="sort-input" name="sort-by">
                <option value="" selected>Sort By</option>
                <option value="score">Score</option>
                <option value="popularity">Popularity</option>
                <option value="desc">Latest</option>
                <option value="asc">Oldest</option>
            </select>
            <button class="btn btn-sm btn-light seach-filtered-animes">Search</button>
            <div class="genres-selecter">
                <span>Genres</span>
                <hr>
                <div class="genre-checkboxes">
                    <!-- <div class="checkbox-label-container">
                        <input type="checkbox" name="" id="shounen">
                        <label for="shounen">Shounen</label>
                    </div> -->
                </div>
            </div>
            <button class="btn btn-sm btn-light seach-filtered-animes">Search</button>
        </form>
    </div>
</div>

<div id="error-container">
    <div id="error-accordion" class="accordion">
        <div class="accordion-item">
            <h4 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                    <span>Invalid Filters</span>
                    <i style="color: red;" class="fa-solid fa-circle-exclamation"></i>
                </button>
            </h4>
            <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <span style="color: rgb(255, 255, 255);">Trying to manually apply filters through URL?</span>
                    <span>Here are some rules that should be followed: </span>
                    <ul style="margin: 15px 0 10px 15px;">
                        <li>The Year and Season filters are ONE set of filters</li>
                        <li>The remaining filters, called "Advanced Filters", are a different set of filters</li>
                        <li>These two sets should be used differently.</li>
                        <li>If they are used together, the year/season filter will NOT take effect</li>
                        <li>In Advanced filters, the "name" filter, and the "Latest" and "Oldest" values in "sort by"
                            filter don't work together</li>
                        <li>If the "name" and "latest/oldest" value filter is used together, the "latest/oldest" filter
                            will NOT work</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="all-entees">
    <div class="popular-ents row">
        <!-- <div class="col-lg-2 col-md-3 col-sm-6 clickThisDiv">
            <form class="recommended-ent" action="/entertainments" method="post">
                <input type="hidden" class="hiddenSearchName" name="search" value="">
                <img class="popular-anime" src="images/tenet.jpg" alt="aot-img">
                <div class="ent-about">
                    <p class="pop-ent-desc">Tenet</p>
                </div>
            </form>
        </div> -->
    </div>
</div>

<div class="parent-pagination-container" style="margin: 7% 0;height: 70px;display: grid;place-items: center;">
    <div class="pagination-container">
        <button class="pagination-button pagination-previous"><i class="fa-solid fa-angle-left"></i></button>
        <div class="page-numbers-container">
            <!-- <button class="pagination-button">1</button>
            <button class="pagination-button">2</button>
            <button class="pagination-button active-page-button">3</button>
            <span class="pagination-button">...</span>
            <button class="pagination-button">1002</button>
            <button class="pagination-button">1003</button> -->
        </div>
        <button class="pagination-button pagination-next"><i class="fa-solid fa-angle-right"></i></button>
    </div>
    <div class="loader">
        <img src="/images/loader.gif" alt="">
    </div>
    <div class="end hide-end">
        <p>No animes found for applied filters</p>
    </div>
</div>

<!-- <div class="load-more" style="text-align: center;margin-bottom: 7%;">
    <button class="load-more-btn" onclick="loadMore()">Load More</button>
</div> -->

<script>
    $(".search-form").removeClass("d-flex");
    $(".search-form").css("display", "none");
</script>

<script src="js/filterSearcher.js"></script>



<%- include('footer'); -%>